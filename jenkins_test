pipeline {
    agent any
    parameters {
        choice(name: 'ENV', choices: ['lab', 'stage', 'dev'], description: '')
	gitParameter branchFilter: 'origin/(.*)', defaultValue: 'develop', name: 'BRANCH_NAME', type: 'PT_BRANCH'
    }
    stages {
	    stage('Checkout') {
            steps {
	      echo "Testing 1"
              //git branch: "${GIT_BRANCH}",
              //credentialsId: 'git-credentials',
              //url: 'https://github.com/parveensindhwani/hello-world.git'
            }
                
            }    
        stage('When check dev') {
            when {
                expression { 
                    return env.ENV == 'dev' 
                    
                }
            }
            steps {
                echo 'Running for Dev environment'
            }
        }
        stage('when check lab') {
            when {
                expression { 
                    return env.ENV == 'lab' 
                    
                }
            }
            steps {
                echo 'Running for lab environment'
            }
        }
    }
}
